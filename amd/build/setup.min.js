function plan_clicked(){const e=document.getElementById("option"),t=document.getElementById("option_td"),n=document.getElementById("option_th"),o=document.getElementById("option_"+document.getElementById("trainplan").value).getAttribute("options");e.innerHTML="";let l=document.createElement("option");if(l.value="",l.text="Choose A Option",l.selected=!0,l.disabled=!0,l.hidden=!0,e.appendChild(l),o>0){e.required=!0;for(let t=1;t<=o;t++)l=document.createElement("option"),l.value=t,l.text="Option "+t,e.appendChild(l);n.style.display="block",t.style.display="block"}else e.required=!1,t.style.display="none",n.style.display="none"}document.getElementById("setup_form").addEventListener("submit",e=>{e.preventDefault();const t=document.getElementById("setup_error");t.style.display="none",t.innerHTML="";const n=document.getElementById("totalmonths").value,o=document.getElementById("totalhours").value,l=document.getElementById("eors").value,d=document.getElementById("coach").value,a=document.getElementById("morm").value,i=document.getElementById("startdate").value,r=document.getElementById("hpw").value,s=document.getElementById("alw").value,m=document.getElementById("trainplan").value,u=document.getElementById("signature"),c=document.getElementById("option").value;let p=u.getContext("2d").getImageData(0,0,u.width,u.height).data,y="Invalid Signature.";for(let e=0;e<p.length;e+=12){const t=p[e],n=p[e+1],o=p[e+2];255===t&&255===n&&255===o||(y="")}if(""!=y)t.innerText=y,t.style.display="block";else{const e=u.toDataURL("image/jpeg"),p=`totalmonths=${n}&totalhours=${o}&eors=${l}&coach=${d}&morm=${a}&startdate=${i}&hpw=${r}&alw=${s}&trainplan=${m}&sign=${e}&option=${c}`,y=new XMLHttpRequest;y.open("POST","./classes/inc/setup.inc.php",!0),y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),y.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);if(e.error){if(e.error.length>0){let n=0;t.innerText="Invalid: ";for(const o of e.error)0==n?(t.innerText+=o,n++):t.innerText+=", "+o;t.innerText+="."}else t.innerText=e.error[0];t.style.display="block"}else e.return?document.getElementById("setup_btm").click():(t.innerText="Creation error.",t.style.display="block")}else t.innerText="Connection error.",t.style.display="block"},y.send(p)}});